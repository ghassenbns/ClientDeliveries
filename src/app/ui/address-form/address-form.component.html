<div class="container p-5 w-50">
  <h3>Create a new address</h3>
  <form
    [formGroup]="formGroup"
    (ngSubmit)="onSubmit()"
    class="form d-flex flex-column"
  >
    <mat-form-field class="form-element">
      <input matInput placeholder="Address" formControlName="address" />
      <mat-error
        *ngIf="
          !formGroup.controls['address'].valid &&
          formGroup.controls['address'].touched
        "
      >
        Field required
      </mat-error>
    </mat-form-field>
    <div class="d-flex justify-content-between">
      <mat-form-field class="form-element">
        <input matInput placeholder="Building" formControlName="building" />
        <mat-error
          *ngIf="
            !formGroup.controls['building'].valid &&
            formGroup.controls['building'].touched
          "
        >
          Field required
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-element">
        <input
          matInput
          placeholder="Zip Code"
          formControlName="zipcode"
        />
        <mat-error
          *ngIf="
            !formGroup.controls['zipcode'].valid &&
            formGroup.controls['zipcode'].touched
          "
        >
          Invalid zip code
        </mat-error>
      </mat-form-field>
    </div>

    <div class="d-flex justify-content-between">
      <mat-form-field class="form-element">
        <input matInput placeholder="Door" formControlName="door" />
        <mat-error
          *ngIf="
            !formGroup.controls['door'].valid &&
            formGroup.controls['door'].touched
          "
        >
          Field required
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-element">
        <input matInput placeholder="Stairs" formControlName="stairs" />
        <mat-error
          *ngIf="
            !formGroup.controls['stairs'].valid &&
            formGroup.controls['stairs'].touched
          "
        >
          Field required
        </mat-error>
      </mat-form-field>
    </div>
    <div class="d-flex justify-content-between">
      <mat-form-field class="form-element">
        <input matInput placeholder="Province" formControlName="province" />
        <mat-error
          *ngIf="
            !formGroup.controls['province'].valid &&
            formGroup.controls['province'].touched
          "
        >
          Field required
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-element">
        <input matInput placeholder="Username" formControlName="username" />
        <mat-error
          *ngIf="
            !formGroup.controls['username'].valid &&
            formGroup.controls['username'].touched
          "
        >
          Field required
        </mat-error>
      </mat-form-field>
    </div>
    <div class="d-flex justify-content-center">
      <div class="d-flex flex-column" *ngIf="!loading; else spinner">
        <button
        color="primary"
        type="submit"
        class="btn btn-success"
        [disabled]="!formGroup.valid || loading">
        Submit Form
        </button>
        <a class="btn btn-secondary mt-3" href="/">Back to list</a>
      </div>
      <ng-template class="spinner-container" #spinner>
        <mat-spinner [diameter]="40"></mat-spinner>
      </ng-template>
    </div>
  </form>
</div>
